<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:fab="http://schemas.android.com/tools"
    xmlns:tools="http://schemas.android.com/tools">

    <data>
        <import type="android.view.View" />
        <variable
            name="viewModel"
            type="com.tyt.driver.ui.homeScreen.tripscreen.TripFragViewModel" />
    </data>

   <!-- <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
        android:id="@+id/trip_swipe_ref_lay"
        android:layout_width="match_parent"
        android:layout_height="match_parent">-->

    <androidx.coordinatorlayout.widget.CoordinatorLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:keepScreenOn="true">

            <com.github.clans.fab.FloatingActionMenu
                android:id="@+id/sos_menu"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentEnd="true"
                android:layout_alignParentBottom="true"
                android:layout_marginLeft="10dp"
                android:layout_marginRight="10dp"
                android:layout_marginBottom="100dp"
                android:translationZ="90dp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintHorizontal_bias="1.0"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:menu_icon="@drawable/ic_sos"
                fab:menu_animationDelayPerItem="50"
                fab:menu_backgroundColor="@android:color/transparent"
                fab:menu_buttonSpacing="0dp"
                fab:menu_colorRipple="#99FFFFFF"
                fab:menu_fab_hide_animation="@anim/my_hide_animation"
                fab:menu_fab_label="your_label_here"
                fab:menu_fab_show_animation="@anim/my_show_animation"
                fab:menu_fab_size="normal"
                fab:menu_labels_colorNormal="#333333"
                fab:menu_labels_colorPressed="#444444"
                fab:menu_labels_colorRipple="#66FFFFFF"
                fab:menu_labels_cornerRadius="3dp"
                fab:menu_labels_ellipsize="none"
                fab:menu_labels_hideAnimation="@anim/fab_slide_out_to_right"
                fab:menu_labels_margin="0dp"
                fab:menu_labels_maxLines="-1"
                fab:menu_labels_padding="4dp"
                fab:menu_labels_position="left"
                fab:menu_labels_showAnimation="@anim/fab_slide_in_from_right"
                fab:menu_labels_showShadow="true"
                fab:menu_labels_singleLine="false"
                fab:menu_labels_style="@style/YourCustomLabelsStyle"
                fab:menu_labels_textColor="#FFFFFF"
                fab:menu_labels_textSize="14sp"
                fab:menu_openDirection="up"
                fab:menu_shadowColor="#66000000"
                fab:menu_shadowRadius="4dp"
                fab:menu_shadowXOffset="1dp"
                fab:menu_shadowYOffset="3dp"
                fab:menu_showShadow="true"
                fab:paddingEnd="@dimen/_1sdp">

                <com.github.clans.fab.FloatingActionButton
                    android:id="@+id/sos_phone_zero"
                    android:layout_width="@dimen/_20sdp"
                    android:layout_height="@dimen/_20sdp"
                    android:layout_gravity="bottom|right"
                    android:layout_marginRight="8dp"
                    android:layout_marginBottom="8dp"
                    android:src="@drawable/ic_phone_call_white"
                    app:fab_colorNormal="#DA4336"
                    app:fab_colorPressed="#E75043"
                    app:fab_hideAnimation="@anim/fab_scale_down"
                    app:fab_label="11111111"
                    app:fab_progress_showBackground="true"
                    app:fab_showAnimation="@anim/fab_scale_up"
                    app:fab_size="mini" />

                <com.github.clans.fab.FloatingActionButton
                    android:id="@+id/sos_phone_one"
                    android:layout_width="@dimen/_20sdp"
                    android:layout_height="@dimen/_20sdp"
                    android:layout_gravity="bottom|right"
                    android:layout_marginEnd="8dp"
                    android:layout_marginBottom="8dp"
                    android:src="@drawable/ic_phone_call_white"
                    app:fab_colorNormal="#DA4336"
                    app:fab_colorPressed="#E75043"
                    app:fab_hideAnimation="@anim/fab_scale_down"
                    app:fab_label="11111111"
                    app:fab_progress_showBackground="true"
                    app:fab_showAnimation="@anim/fab_scale_up"
                    app:fab_size="mini" />

                <com.github.clans.fab.FloatingActionButton
                    android:id="@+id/sos_phone_two"
                    android:layout_width="@dimen/_20sdp"
                    android:layout_height="@dimen/_20sdp"
                    android:layout_gravity="bottom|right"
                    android:layout_marginRight="8dp"
                    android:layout_marginBottom="8dp"
                    android:src="@drawable/ic_phone_call_white"
                    app:fab_colorNormal="#DA4336"
                    app:fab_colorPressed="#E75043"
                    app:fab_hideAnimation="@anim/fab_scale_down"
                    app:fab_label="11111111"
                    app:fab_progress_showBackground="true"
                    app:fab_showAnimation="@anim/fab_scale_up"
                    app:fab_size="mini" />

                <com.github.clans.fab.FloatingActionButton
                    android:id="@+id/notify_Admin"
                    android:layout_width="@dimen/_20sdp"
                    android:layout_height="@dimen/_20sdp"
                    android:layout_gravity="bottom|right"
                    android:layout_marginEnd="8dp"
                    android:layout_marginBottom="8dp"
                    android:src="@drawable/ic_notify_admin"
                    app:fab_colorNormal="#DA4336"
                    app:fab_colorPressed="#E75043"
                    app:fab_hideAnimation="@anim/fab_scale_down"
                    app:fab_label="notify admin"
                    app:fab_progress_showBackground="true"
                    app:fab_showAnimation="@anim/fab_scale_up"
                    app:fab_size="mini" />
<!--  android:onClick="@{viewModel::notifyadminclick}"
      tools:text="Notify Admin"
      android:text="@{viewModel.translationModel.txt_notify_admin}"-->

            </com.github.clans.fab.FloatingActionMenu>

            <com.google.android.material.floatingactionbutton.FloatingActionButton
                android:id="@+id/recenter1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="end"
                android:layout_marginTop="@dimen/_15sdp"
                android:layout_marginEnd="@dimen/_10sdp"
                android:contentDescription="TODO"
                android:elevation="@dimen/_2sdp"
                android:onClick="@{viewModel::onClickDirection}"
                app:backgroundTint="#1068EC"
                app:elevation="@dimen/_5sdp"
                app:fabSize="normal"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintHorizontal_bias="0.991"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/sos_menu"
                app:srcCompat="@drawable/ic_baseline_navigation_24" />

            <androidx.cardview.widget.CardView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_margin="@dimen/_8sdp"
                android:layout_marginTop="@dimen/_20sdp"
                android:padding="@dimen/_8sdp"
                app:cardCornerRadius="@dimen/_8sdp"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent">

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_gravity="center"
                    android:layout_margin="@dimen/_8sdp"
                    android:keepScreenOn="true"
                    android:padding="@dimen/_1sdp">

                    <TextClock
                        android:id="@+id/waiting_time"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:visibility="gone"
                        android:textColor="@color/clr_black"
                        android:format12Hour="hh:mm:ss"
                        app:layout_constraintEnd_toEndOf="@+id/status_txt"
                        app:layout_constraintStart_toStartOf="@+id/status_txt"
                        app:layout_constraintTop_toBottomOf="@+id/status_txt" />

                    <TextView
                        android:id="@+id/status_txt"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:drawableStart="@{!viewModel.isTripStared?@drawable/green_dot:@drawable/red_dot}"
                        android:drawablePadding="@dimen/_10sdp"
                        android:fontFamily="@font/roboto_reg"
                        android:gravity="center"
                        android:text="@{viewModel.tripStatus}"
                        android:textColor="@color/clr_0A2463"
                        android:textSize="@dimen/_12sdp"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toTopOf="parent" />

                </androidx.constraintlayout.widget.ConstraintLayout>
            </androidx.cardview.widget.CardView>

            <fragment
                android:id="@+id/trip_map"
                android:name="com.google.android.gms.maps.SupportMapFragment"
                android:layout_width="match_parent"
                android:layout_height="match_parent" />

            <include
                android:id="@+id/progressBar"
                layout="@layout/progress_dialog"
                fab:visibility="gone"
                android:visibility="@{viewModel.mIsLoading ? View.VISIBLE : View.GONE}" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <include
            android:id="@+id/menu"
            layout="@layout/layout_drop_pick_details"
            app:viewModel2="@{viewModel}"
            />

        <com.google.android.material.bottomappbar.BottomAppBar
            android:id="@+id/bottomAppBar"
            style="@style/Widget.MaterialComponents.BottomAppBar"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="bottom"
            android:fitsSystemWindows="true"

            android:isScrollContainer="true"
            android:scrollbars="vertical"
            android:theme="@style/Theme.MaterialComponents"
            app:backgroundTint="@color/clr_white"
            app:fabAlignmentMode="end"
            app:fabCradleMargin="4dp"
            app:fabCradleRoundedCornerRadius="8dp"
            app:fabCradleVerticalOffset="8dp"
            app:hideOnScroll="true"
            app:layout_scrollFlags="scroll|enterAlwaysCollapsed"
            >

            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:background="@drawable/btn_bordered_red"
                android:visibility="@{viewModel.isTripStared?View.GONE:View.VISIBLE}"
                android:onClick="@{viewModel::onClickCancel}">

                <Button
                    android:id="@+id/trip_cancel"
                    style="@style/Widget.AppCompat.Button.Borderless.Colored"
                    android:layout_width="@dimen/_100sdp"
                    android:layout_height="@dimen/_25sdp"
                    android:onClick="@{viewModel::onClickCancel}"
                    android:text="@string/cancel"
                    android:textColor="@color/clr_E70000"
                    android:textSize="@dimen/_7sdp"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />
            </androidx.constraintlayout.widget.ConstraintLayout>
        </com.google.android.material.bottomappbar.BottomAppBar>

        <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:id="@+id/fab_call_chat"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:backgroundTint="@color/colorPrimary"
            android:contentDescription="@string/app_name"
            android:fitsSystemWindows="true"
            android:onClick="@{viewModel::OnclickCall}"
            android:visibility="@{viewModel.isTripStared?View.GONE:View.VISIBLE}"
            app:backgroundTint="@color/colorPrimary"
            app:fabSize="normal"
            app:layout_anchor="@id/bottomAppBar"
            app:maxImageSize="@dimen/_35sdp"
            app:srcCompat="@drawable/ic_call_chat" />

    </androidx.coordinatorlayout.widget.CoordinatorLayout>

   <!-- </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>-->
</layout>